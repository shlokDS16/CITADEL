{"openapi":"3.1.0","info":{"title":"C.I.T.A.D.E.L. API","description":"Civic Intelligence & Transparency for Administrative Decision-making, Evidence & Logistics","version":"2.0.0"},"paths":{"/api/documents/upload":{"post":{"tags":["Documents"],"summary":"Upload Doc","description":"Upload and process a document","operationId":"upload_doc_api_documents_upload_post","parameters":[{"name":"doc_type","in":"query","required":false,"schema":{"type":"string","default":"auto","title":"Doc Type"}},{"name":"source_tier","in":"query","required":false,"schema":{"type":"string","default":"demo","title":"Source Tier"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_doc_api_documents_upload_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/documents/{document_id}":{"get":{"tags":["Documents"],"summary":"Get Doc","description":"Get document by ID","operationId":"get_doc_api_documents__document_id__get","parameters":[{"name":"document_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Document Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/documents/search":{"get":{"tags":["Documents"],"summary":"Search Docs","description":"Search documents using semantic search","operationId":"search_docs_api_documents_search_get","parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string","title":"Query"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":5,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/chat/":{"post":{"tags":["Chat/RAG"],"summary":"Send Message","description":"Send message and get AI response with citations","operationId":"send_message_api_chat__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatMessage"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/chat/session":{"post":{"tags":["Chat/RAG"],"summary":"Create Session","description":"Create a new chat session","operationId":"create_session_api_chat_session_post","parameters":[{"name":"session_type","in":"query","required":false,"schema":{"type":"string","default":"rag","title":"Session Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/chat/history/{session_id}":{"get":{"tags":["Chat/RAG"],"summary":"Get History","description":"Get chat history for a session","operationId":"get_history_api_chat_history__session_id__get","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/chat/history":{"get":{"tags":["Chat/RAG"],"summary":"Get User Chat History","description":"Retrieve RAG conversation history for the current user.\nReturns the last 'limit' queries with their responses and citations.","operationId":"get_user_chat_history_api_chat_history_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":20,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/tickets/":{"post":{"tags":["Tickets"],"summary":"Create New Ticket","description":"Create a new ticket with AI classification","operationId":"create_new_ticket_api_tickets__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TicketCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/tickets/queue":{"get":{"tags":["Tickets"],"summary":"Get Queue","description":"Get ticket queue for operators","operationId":"get_queue_api_tickets_queue_get","parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},{"name":"priority","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Priority"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/tickets/{ticket_id}":{"get":{"tags":["Tickets"],"summary":"Get Single Ticket","description":"Get ticket by ID","operationId":"get_single_ticket_api_tickets__ticket_id__get","parameters":[{"name":"ticket_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Ticket Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/tickets/{ticket_id}/status":{"patch":{"tags":["Tickets"],"summary":"Update Status","description":"Update ticket status","operationId":"update_status_api_tickets__ticket_id__status_patch","parameters":[{"name":"ticket_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Ticket Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TicketUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/tickets/{ticket_id}/assign":{"patch":{"tags":["Tickets"],"summary":"Assign To Operator","description":"Assign ticket to operator","operationId":"assign_to_operator_api_tickets__ticket_id__assign_patch","parameters":[{"name":"ticket_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Ticket Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TicketAssign"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/resumes/upload":{"post":{"tags":["Resumes"],"summary":"Upload Resume","description":"Upload and parse a resume","operationId":"upload_resume_api_resumes_upload_post","parameters":[{"name":"candidate_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Candidate Name"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_resume_api_resumes_upload_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/resumes/jobs":{"post":{"tags":["Resumes"],"summary":"Create New Job","description":"Create a job posting","operationId":"create_new_job_api_resumes_jobs_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/resumes/match/{resume_id}/{job_id}":{"post":{"tags":["Resumes"],"summary":"Match To Job","description":"Match a resume to a job","operationId":"match_to_job_api_resumes_match__resume_id___job_id__post","parameters":[{"name":"resume_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Resume Id"}},{"name":"job_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/resumes/candidates/{job_id}":{"get":{"tags":["Resumes"],"summary":"Get Candidates","description":"Get top candidates for a job","operationId":"get_candidates_api_resumes_candidates__job_id__get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Job Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/expenses/upload":{"post":{"tags":["Expenses"],"summary":"Upload Receipt","description":"Upload and process a receipt image","operationId":"upload_receipt_api_expenses_upload_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_receipt_api_expenses_upload_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/expenses/":{"post":{"tags":["Expenses"],"summary":"Add Expense","description":"Add and categorize an expense","operationId":"add_expense_api_expenses__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExpenseCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/expenses/summary/{department}":{"get":{"tags":["Expenses"],"summary":"Get Summary","description":"Get monthly expense summary","operationId":"get_summary_api_expenses_summary__department__get","parameters":[{"name":"department","in":"path","required":true,"schema":{"type":"string","title":"Department"}},{"name":"year","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Year"}},{"name":"month","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Month"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/expenses/transparency":{"get":{"tags":["Expenses"],"summary":"Citizen Transparency","description":"Get citizen transparency view of government spending","operationId":"citizen_transparency_api_expenses_transparency_get","parameters":[{"name":"department","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Department"}},{"name":"year","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Year"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/expenses/anomalies":{"get":{"tags":["Expenses"],"summary":"Get Anomalies","description":"List flagged anomalous expenses","operationId":"get_anomalies_api_expenses_anomalies_get","parameters":[{"name":"department","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Department"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/anomaly/reading":{"post":{"tags":["Anomaly"],"summary":"Add Sensor Reading","description":"Ingest sensor reading and detect anomalies","operationId":"add_sensor_reading_api_anomaly_reading_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SensorReading"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/anomaly/correlate/{zone_id}":{"get":{"tags":["Anomaly"],"summary":"Correlate Zone Sensors","description":"Get correlated sensor analysis for a zone","operationId":"correlate_zone_sensors_api_anomaly_correlate__zone_id__get","parameters":[{"name":"zone_id","in":"path","required":true,"schema":{"type":"string","title":"Zone Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/anomaly/baseline/{sensor_id}":{"get":{"tags":["Anomaly"],"summary":"Get Baseline","description":"Get baseline statistics for a sensor","operationId":"get_baseline_api_anomaly_baseline__sensor_id__get","parameters":[{"name":"sensor_id","in":"path","required":true,"schema":{"type":"string","title":"Sensor Id"}},{"name":"hours","in":"query","required":false,"schema":{"type":"integer","default":24,"title":"Hours"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/anomaly/anomalies":{"get":{"tags":["Anomaly"],"summary":"Get Recent Anomalies","description":"List recent anomalies","operationId":"get_recent_anomalies_api_anomaly_anomalies_get","parameters":[{"name":"sensor_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sensor Type"}},{"name":"hours","in":"query","required":false,"schema":{"type":"integer","default":24,"title":"Hours"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/anomaly/train":{"post":{"tags":["Anomaly"],"summary":"Train Models","description":"Load historical data and train anomaly models.\nDataset: 'uci' (Air Quality) or 'nab' (Cloudwatch)","operationId":"train_models_api_anomaly_train_post","parameters":[{"name":"dataset","in":"query","required":false,"schema":{"type":"string","default":"uci","title":"Dataset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/anomaly/stats":{"get":{"tags":["Anomaly"],"summary":"Get Anomaly Statistics","description":"Aggregate statistics for infrastructure anomaly monitoring.\nProvides overview of system health, active alerts, and sensor status.","operationId":"get_anomaly_statistics_api_anomaly_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/admin/evidence/{decision_id}":{"get":{"tags":["Admin"],"summary":"Get Evidence","description":"Generate and get evidence bundle for an AI decision","operationId":"get_evidence_api_admin_evidence__decision_id__get","parameters":[{"name":"decision_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Decision Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/lineage/{decision_id}":{"get":{"tags":["Admin"],"summary":"Get Lineage","description":"Get full lineage chain for an AI decision","operationId":"get_lineage_api_admin_lineage__decision_id__get","parameters":[{"name":"decision_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Decision Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/override/{decision_id}":{"post":{"tags":["Admin"],"summary":"Human Override","description":"Record a human override of an AI decision","operationId":"human_override_api_admin_override__decision_id__post","parameters":[{"name":"decision_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Decision Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HumanOverride"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/news/analyze":{"post":{"tags":["Fake News","News Authenticity"],"summary":"Analyze Article","description":"Analyze a news article for authenticity.","operationId":"analyze_article_api_news_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/news/status":{"get":{"tags":["Fake News","News Authenticity"],"summary":"Get Status","operationId":"get_status_api_news_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/news/":{"get":{"tags":["Fake News","News Authenticity"],"summary":"Get Fake News Overview","description":"Root endpoint for fake news service.\nReturns recent fact-checks performed and service status.","operationId":"get_fake_news_overview_api_news__get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/dashboard/":{"get":{"tags":["Dashboard"],"summary":"Get Dashboard Data","description":"Return role-appropriate dashboard data","operationId":"get_dashboard_data_api_dashboard__get","parameters":[{"name":"x-user-role","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-User-Role"}},{"name":"x-user-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-User-Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Dashboard Data Api Dashboard  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/dashboard/stats":{"get":{"tags":["Dashboard"],"summary":"Get Dashboard Stats","description":"Get aggregated statistics for dashboard","operationId":"get_dashboard_stats_api_dashboard_stats_get","parameters":[{"name":"x-user-role","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-User-Role"}},{"name":"x-user-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-User-Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Dashboard Stats Api Dashboard Stats Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/support-tickets/submit":{"post":{"tags":["Support Tickets"],"summary":"Submit Ticket","description":"Submit and analyze a new support ticket (citizens only)","operationId":"submit_ticket_api_support_tickets_submit_post","parameters":[{"name":"x-user-role","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-User-Role"}},{"name":"x-user-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-User-Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TicketSubmission"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TicketResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/support-tickets/my-tickets":{"get":{"tags":["Support Tickets"],"summary":"Get My Tickets","description":"Get all tickets submitted by the current user","operationId":"get_my_tickets_api_support_tickets_my_tickets_get","parameters":[{"name":"x-user-role","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-User-Role"}},{"name":"x-user-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-User-Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/support-tickets/status/{ticket_id}":{"get":{"tags":["Support Tickets"],"summary":"Get Ticket Status","description":"Get status of a specific ticket","operationId":"get_ticket_status_api_support_tickets_status__ticket_id__get","parameters":[{"name":"ticket_id","in":"path","required":true,"schema":{"type":"string","title":"Ticket Id"}},{"name":"x-user-role","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-User-Role"}},{"name":"x-user-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-User-Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/support-tickets/categories":{"get":{"tags":["Support Tickets"],"summary":"Get Categories","description":"Get available ticket categories","operationId":"get_categories_api_support_tickets_categories_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/traffic-violations/analyze":{"post":{"tags":["Traffic Violations"],"summary":"Analyze Traffic Footage","description":"Analyze traffic footage for violations (government officials only).\n\nArgs:\n    video: Video file to analyze\n    violation_types: Comma-separated list of violation types to detect\n    location: Optional location/intersection name\n\nReturns:\n    Analysis results with detected violations and evidence","operationId":"analyze_traffic_footage_api_traffic_violations_analyze_post","parameters":[{"name":"violation_types","in":"query","required":false,"schema":{"type":"string","default":"helmetless,red_light","title":"Violation Types"}},{"name":"location","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location"}},{"name":"x-user-role","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-User-Role"}},{"name":"x-user-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-User-Id"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_analyze_traffic_footage_api_traffic_violations_analyze_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/traffic-violations/types":{"get":{"tags":["Traffic Violations"],"summary":"Get Violation Types","description":"Get available violation types for detection","operationId":"get_violation_types_api_traffic_violations_types_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/traffic-violations/stats":{"get":{"tags":["Traffic Violations"],"summary":"Get Violation Stats","description":"Get violation detection statistics","operationId":"get_violation_stats_api_traffic_violations_stats_get","parameters":[{"name":"x-user-role","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-User-Role"}},{"name":"x-user-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-User-Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/traffic-violations/review/{violation_id}":{"post":{"tags":["Traffic Violations"],"summary":"Review Violation","description":"Review and confirm/reject a detected violation","operationId":"review_violation_api_traffic_violations_review__violation_id__post","parameters":[{"name":"violation_id","in":"path","required":true,"schema":{"type":"string","title":"Violation Id"}},{"name":"action","in":"query","required":true,"schema":{"type":"string","title":"Action"}},{"name":"notes","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},{"name":"x-user-role","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-User-Role"}},{"name":"x-user-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-User-Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"summary":"Health Check","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"Body_analyze_traffic_footage_api_traffic_violations_analyze_post":{"properties":{"video":{"type":"string","format":"binary","title":"Video"}},"type":"object","required":["video"],"title":"Body_analyze_traffic_footage_api_traffic_violations_analyze_post"},"Body_upload_doc_api_documents_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_upload_doc_api_documents_upload_post"},"Body_upload_receipt_api_expenses_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_upload_receipt_api_expenses_upload_post"},"Body_upload_resume_api_resumes_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_upload_resume_api_resumes_upload_post"},"ChatMessage":{"properties":{"message":{"type":"string","title":"Message"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"}},"type":"object","required":["message"],"title":"ChatMessage"},"ExpenseCreate":{"properties":{"department":{"type":"string","title":"Department"},"amount":{"type":"number","title":"Amount"},"description":{"type":"string","title":"Description"}},"type":"object","required":["department","amount","description"],"title":"ExpenseCreate"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HumanOverride":{"properties":{"decision":{"type":"string","title":"Decision"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"corrected_output":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Corrected Output"}},"type":"object","required":["decision"],"title":"HumanOverride"},"JobCreate":{"properties":{"title":{"type":"string","title":"Title"},"department":{"type":"string","title":"Department"},"description":{"type":"string","title":"Description"},"required_skills":{"items":{"type":"string"},"type":"array","title":"Required Skills"},"preferred_skills":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Preferred Skills"},"experience_min":{"type":"number","title":"Experience Min","default":0.0}},"type":"object","required":["title","department","description","required_skills"],"title":"JobCreate"},"NewsRequest":{"properties":{"url":{"type":"string","maxLength":2083,"minLength":1,"format":"uri","title":"Url"}},"type":"object","required":["url"],"title":"NewsRequest"},"NewsResponse":{"properties":{"url":{"type":"string","title":"Url"},"title":{"type":"string","title":"Title"},"authenticity_score":{"type":"number","title":"Authenticity Score"},"credibility_label":{"type":"string","title":"Credibility Label"},"confidence":{"type":"number","title":"Confidence"},"domain_reputation":{"type":"string","title":"Domain Reputation"},"evidence":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Evidence"},"risk_factors":{"items":{"type":"string"},"type":"array","title":"Risk Factors"},"trust_signals":{"items":{"type":"string"},"type":"array","title":"Trust Signals"},"analyzed_at":{"type":"string","title":"Analyzed At"}},"type":"object","required":["url","title","authenticity_score","credibility_label","confidence","domain_reputation","evidence","risk_factors","trust_signals","analyzed_at"],"title":"NewsResponse"},"SensorReading":{"properties":{"sensor_id":{"type":"string","title":"Sensor Id"},"sensor_type":{"type":"string","title":"Sensor Type"},"value":{"type":"number","title":"Value"},"location":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Location"}},"type":"object","required":["sensor_id","sensor_type","value"],"title":"SensorReading"},"TicketAssign":{"properties":{"assignee_id":{"type":"string","title":"Assignee Id"}},"type":"object","required":["assignee_id"],"title":"TicketAssign"},"TicketCreate":{"properties":{"title":{"type":"string","title":"Title"},"description":{"type":"string","title":"Description"}},"type":"object","required":["title","description"],"title":"TicketCreate"},"TicketResponse":{"properties":{"ticket_id":{"type":"string","title":"Ticket Id"},"category":{"type":"string","title":"Category"},"priority":{"type":"string","title":"Priority"},"urgency":{"type":"string","title":"Urgency"},"suggested_response":{"type":"string","title":"Suggested Response"},"route_to_department":{"type":"string","title":"Route To Department"},"estimated_sla_hours":{"type":"integer","title":"Estimated Sla Hours"},"requires_escalation":{"type":"boolean","title":"Requires Escalation"},"status":{"type":"string","title":"Status"}},"type":"object","required":["ticket_id","category","priority","urgency","suggested_response","route_to_department","estimated_sla_hours","requires_escalation","status"],"title":"TicketResponse"},"TicketSubmission":{"properties":{"title":{"type":"string","title":"Title"},"description":{"type":"string","title":"Description"},"contact_email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contact Email"}},"type":"object","required":["title","description"],"title":"TicketSubmission"},"TicketUpdate":{"properties":{"status":{"type":"string","title":"Status"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["status"],"title":"TicketUpdate"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}
